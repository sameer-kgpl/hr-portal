<VirtualHost *:80>
  ServerName _

  DocumentRoot /var/www/recruitment-portal-frontend

  <Directory /var/www/recruitment-portal-frontend>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
  </Directory>

  # SPA fallback to index.html
  RewriteEngine On
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^ /index.html [L]

  # Proxy /api to backend
  ProxyPreserveHost On
  ProxyRequests Off
  ProxyPass /api/ http://127.0.0.1:4000/
  ProxyPassReverse /api/ http://127.0.0.1:4000/
</VirtualHost>